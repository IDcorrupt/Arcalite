[gd_scene load_steps=39 format=3 uid="uid://dtwxqo8wyx1pw"]

[ext_resource type="Script" uid="uid://bthb332j357tx" path="res://Scripts/Game/Enemies/HeavyRanged.cs" id="1_l1duq"]
[ext_resource type="Texture2D" uid="uid://cani3fudpxeas" path="res://Assets/Sprites/enemies/Witch/Sprite/ATTACK.png" id="2_o745k"]
[ext_resource type="Texture2D" uid="uid://ba6cicad77wkb" path="res://Assets/Sprites/enemies/Witch/Sprite/DEATH.png" id="3_ntc56"]
[ext_resource type="Texture2D" uid="uid://tgf3i68p2yfk" path="res://Assets/Sprites/enemies/Witch/Sprite/HURT.png" id="4_ntc56"]
[ext_resource type="Texture2D" uid="uid://dy31hef11qrkk" path="res://Assets/Sprites/enemies/Witch/Sprite/IDLE.png" id="4_r330w"]
[ext_resource type="Texture2D" uid="uid://bfcfa71hi53dn" path="res://Assets/Sprites/enemies/Witch/Sprite/MOVE.png" id="5_6c7tf"]

[sub_resource type="AtlasTexture" id="AtlasTexture_jw8nb"]
atlas = ExtResource("2_o745k")
region = Rect2(0, 0, 125, 125)

[sub_resource type="AtlasTexture" id="AtlasTexture_88qyw"]
atlas = ExtResource("2_o745k")
region = Rect2(125, 0, 125, 125)

[sub_resource type="AtlasTexture" id="AtlasTexture_hhqsp"]
atlas = ExtResource("2_o745k")
region = Rect2(250, 0, 125, 125)

[sub_resource type="AtlasTexture" id="AtlasTexture_xntky"]
atlas = ExtResource("2_o745k")
region = Rect2(375, 0, 125, 125)

[sub_resource type="AtlasTexture" id="AtlasTexture_rqopj"]
atlas = ExtResource("2_o745k")
region = Rect2(500, 0, 125, 125)

[sub_resource type="AtlasTexture" id="AtlasTexture_5i0es"]
atlas = ExtResource("2_o745k")
region = Rect2(625, 0, 125, 125)

[sub_resource type="AtlasTexture" id="AtlasTexture_b2x1x"]
atlas = ExtResource("3_ntc56")
region = Rect2(0, 0, 125, 125)

[sub_resource type="AtlasTexture" id="AtlasTexture_kkufu"]
atlas = ExtResource("3_ntc56")
region = Rect2(125, 0, 125, 125)

[sub_resource type="AtlasTexture" id="AtlasTexture_373ww"]
atlas = ExtResource("3_ntc56")
region = Rect2(250, 0, 125, 125)

[sub_resource type="AtlasTexture" id="AtlasTexture_macrg"]
atlas = ExtResource("3_ntc56")
region = Rect2(375, 0, 125, 125)

[sub_resource type="AtlasTexture" id="AtlasTexture_0byi1"]
atlas = ExtResource("3_ntc56")
region = Rect2(500, 0, 125, 125)

[sub_resource type="AtlasTexture" id="AtlasTexture_i5mlq"]
atlas = ExtResource("3_ntc56")
region = Rect2(625, 0, 125, 125)

[sub_resource type="AtlasTexture" id="AtlasTexture_4nb1q"]
atlas = ExtResource("3_ntc56")
region = Rect2(750, 0, 125, 125)

[sub_resource type="AtlasTexture" id="AtlasTexture_voot4"]
atlas = ExtResource("4_ntc56")
region = Rect2(0, 0, 125, 125)

[sub_resource type="AtlasTexture" id="AtlasTexture_6c7tf"]
atlas = ExtResource("4_ntc56")
region = Rect2(125, 0, 125, 125)

[sub_resource type="AtlasTexture" id="AtlasTexture_r330w"]
atlas = ExtResource("4_ntc56")
region = Rect2(250, 0, 125, 125)

[sub_resource type="AtlasTexture" id="AtlasTexture_n18r2"]
atlas = ExtResource("4_r330w")
region = Rect2(0, 0, 125, 125)

[sub_resource type="AtlasTexture" id="AtlasTexture_vi2cg"]
atlas = ExtResource("4_r330w")
region = Rect2(125, 0, 125, 125)

[sub_resource type="AtlasTexture" id="AtlasTexture_2xugu"]
atlas = ExtResource("4_r330w")
region = Rect2(250, 0, 125, 125)

[sub_resource type="AtlasTexture" id="AtlasTexture_iskll"]
atlas = ExtResource("4_r330w")
region = Rect2(375, 0, 125, 125)

[sub_resource type="AtlasTexture" id="AtlasTexture_84m0g"]
atlas = ExtResource("4_r330w")
region = Rect2(500, 0, 125, 125)

[sub_resource type="AtlasTexture" id="AtlasTexture_2u5c4"]
atlas = ExtResource("4_r330w")
region = Rect2(625, 0, 125, 125)

[sub_resource type="AtlasTexture" id="AtlasTexture_58h3o"]
atlas = ExtResource("5_6c7tf")
region = Rect2(0, 0, 125, 125)

[sub_resource type="AtlasTexture" id="AtlasTexture_pjnlt"]
atlas = ExtResource("5_6c7tf")
region = Rect2(125, 0, 125, 125)

[sub_resource type="AtlasTexture" id="AtlasTexture_5mu45"]
atlas = ExtResource("5_6c7tf")
region = Rect2(250, 0, 125, 125)

[sub_resource type="AtlasTexture" id="AtlasTexture_g5onn"]
atlas = ExtResource("5_6c7tf")
region = Rect2(375, 0, 125, 125)

[sub_resource type="AtlasTexture" id="AtlasTexture_k77nb"]
atlas = ExtResource("5_6c7tf")
region = Rect2(500, 0, 125, 125)

[sub_resource type="AtlasTexture" id="AtlasTexture_3l2u5"]
atlas = ExtResource("5_6c7tf")
region = Rect2(625, 0, 125, 125)

[sub_resource type="SpriteFrames" id="SpriteFrames_jovaw"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_jw8nb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_88qyw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hhqsp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_xntky")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rqopj")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5i0es")
}],
"loop": false,
"name": &"attack1",
"speed": 8.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_jw8nb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_88qyw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hhqsp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_xntky")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rqopj")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5i0es")
}],
"loop": false,
"name": &"attack2",
"speed": 8.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_b2x1x")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_kkufu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_373ww")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_macrg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0byi1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_i5mlq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4nb1q")
}],
"loop": false,
"name": &"die",
"speed": 8.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_voot4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6c7tf")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_r330w")
}],
"loop": false,
"name": &"hurt",
"speed": 8.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_n18r2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vi2cg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2xugu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_iskll")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_84m0g")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2u5c4")
}],
"loop": true,
"name": &"idle",
"speed": 8.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_58h3o")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_pjnlt")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5mu45")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_g5onn")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_k77nb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_3l2u5")
}],
"loop": true,
"name": &"walk",
"speed": 8.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_0ynrc"]
size = Vector2(27, 52)

[sub_resource type="CircleShape2D" id="CircleShape2D_uveyp"]
radius = 250.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_irin3"]
size = Vector2(31, 52)

[node name="HeavyRanged" type="CharacterBody2D"]
collision_layer = 2
collision_mask = 132
script = ExtResource("1_l1duq")

[node name="Sprite" type="AnimatedSprite2D" parent="."]
position = Vector2(5, -16)
scale = Vector2(0.75, 0.75)
sprite_frames = SubResource("SpriteFrames_jovaw")
animation = &"idle"
flip_h = true

[node name="DirectionTimer" type="Timer" parent="."]
one_shot = true
autostart = true

[node name="RoamCooldown" type="Timer" parent="."]
wait_time = 3.0
one_shot = true

[node name="AttackCooldown" type="Timer" parent="."]
one_shot = true

[node name="HurtTimer" type="Timer" parent="."]
one_shot = true

[node name="ChaseBuffer" type="Timer" parent="."]
one_shot = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("RectangleShape2D_0ynrc")

[node name="AttackRange" type="Area2D" parent="."]
collision_layer = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="AttackRange"]
visible = false
shape = SubResource("CircleShape2D_uveyp")
debug_color = Color(1, 0, 0, 0.419608)

[node name="Targeting" type="RayCast2D" parent="."]
target_position = Vector2(250, 0)
collision_mask = 5

[node name="JumpTrigger" type="Area2D" parent="."]
position = Vector2(0, -50)
collision_layer = 0
collision_mask = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="JumpTrigger"]
position = Vector2(24.5, -16)
shape = SubResource("RectangleShape2D_irin3")
debug_color = Color(0.615686, 0.356863, 1, 0.419608)

[node name="ObstacleDetect" type="Area2D" parent="."]
position = Vector2(0, -0.5)
collision_layer = 0
collision_mask = 4

[node name="right" type="CollisionPolygon2D" parent="ObstacleDetect"]
modulate = Color(0, 0.14902, 1, 1)
position = Vector2(13.5, -0.5)
polygon = PackedVector2Array(0, -25, 0, 27, 15, -25)

[node name="left" type="CollisionPolygon2D" parent="ObstacleDetect"]
modulate = Color(0, 0.14902, 1, 1)
position = Vector2(-13.5, -0.5)
polygon = PackedVector2Array(0, -25, 0, 27, -15, -25)

[node name="LineOfSight" type="RayCast2D" parent="."]
collision_mask = 133

[node name="LaunchLocation" type="Node2D" parent="."]
position = Vector2(9, -3)

[connection signal="animation_finished" from="Sprite" to="." method="OnSpriteAnimationFinished"]
[connection signal="timeout" from="DirectionTimer" to="." method="OnDirectionTimerTimeout"]
[connection signal="timeout" from="RoamCooldown" to="." method="OnRoamCoolDownTimeout"]
[connection signal="timeout" from="AttackCooldown" to="." method="AtkCooldownTimeout"]
[connection signal="timeout" from="HurtTimer" to="." method="OnHurtTimerTimeout"]
[connection signal="timeout" from="ChaseBuffer" to="." method="OnChaseBufferTimeout"]
[connection signal="body_entered" from="AttackRange" to="." method="AttackRangeBodyEntered"]
[connection signal="body_exited" from="AttackRange" to="." method="AttackRangeBodyExited"]
